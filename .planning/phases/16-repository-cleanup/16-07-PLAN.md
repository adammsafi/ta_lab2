---
phase: 16-repository-cleanup
plan: 07
type: execute
wave: 1
depends_on: []
files_modified:
  - update_phase16_memory.py
  - .archive/scripts/manifest.json
  - .archive/temp/manifest.json
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Root directory contains no loose Python scripts except essential tooling"
    - "Corrupted path files and directories archived or documented as unremovable"
    - "All archived files tracked in manifests with SHA256 checksums"
  artifacts:
    - path: ".archive/scripts/2026-02-03/utilities/update_phase16_memory.py"
      provides: "Archived temp script from Plan 06"
    - path: ".archive/scripts/manifest.json"
      provides: "Updated manifest with new archival entry"
    - path: ".archive/temp/manifest.json"
      provides: "Updated manifest documenting corrupted paths"
  key_links:
    - from: "update_phase16_memory.py"
      to: ".archive/scripts/2026-02-03/utilities/"
      via: "file move with checksum"
      pattern: "sha256.*update_phase16_memory"
---

<objective>
Close Phase 16 verification gaps by archiving remaining root directory clutter.

Purpose: Satisfy CLEAN-01 requirement (root directory clean) that verification found partially unmet.
Output: Root directory contains only essential files, all archived items tracked with SHA256 checksums.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-repository-cleanup/16-VERIFICATION.md
@.planning/phases/16-repository-cleanup/16-01-SUMMARY.md
@.planning/phases/16-repository-cleanup/16-06-SUMMARY.md
@.archive/scripts/manifest.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Archive update_phase16_memory.py</name>
  <files>.archive/scripts/2026-02-03/utilities/update_phase16_memory.py, .archive/scripts/manifest.json</files>
  <action>
Archive the temporary memory update script from Plan 06:

1. Calculate SHA256 checksum of update_phase16_memory.py (11,877 bytes)
2. Copy file to .archive/scripts/2026-02-03/utilities/update_phase16_memory.py
3. Update .archive/scripts/manifest.json:
   - Increment total_files by 1
   - Increment total_size_bytes by 11877
   - Add new entry:
     ```json
     {
       "original_path": "C:\\Users\\asafi\\Downloads\\ta_lab2\\update_phase16_memory.py",
       "archive_path": "C:\\Users\\asafi\\Downloads\\ta_lab2\\.archive\\scripts\\2026-02-03\\utilities\\update_phase16_memory.py",
       "action": "moved",
       "timestamp": "<current ISO timestamp>",
       "sha256_checksum": "<calculated checksum>",
       "size_bytes": 11877,
       "commit_hash": null,
       "phase_number": "16",
       "archive_reason": "Gap closure: Temp script from Plan 06 memory update, not needed after execution"
     }
     ```
4. Remove original file from root
5. Verify root contains no Python scripts except __pycache__/

Use Python hashlib.sha256() or hashlib.file_digest() for checksum calculation.
  </action>
  <verify>
- ls C:\Users\asafi\Downloads\ta_lab2\update_phase16_memory.py returns "No such file"
- ls C:\Users\asafi\Downloads\ta_lab2\.archive\scripts\2026-02-03\utilities\update_phase16_memory.py exists
- cat .archive/scripts/manifest.json | grep update_phase16_memory returns entry
- ls *.py in root returns empty (no Python files)
  </verify>
  <done>
update_phase16_memory.py archived with SHA256 checksum, manifest updated, root contains no Python scripts.
  </done>
</task>

<task type="auto">
  <name>Task 2: Archive corrupted path files and directories</name>
  <files>.archive/temp/manifest.json</files>
  <action>
Handle remaining corrupted path items from Windows/Claude interaction:

**Files to archive (3 text files):**
- C:UsersasafiAppDataLocalTempclaudeC--Users-asafi-Downloads-ta-lab2c83d074d-ffff-4260-96b8-93d1abaa9042scratchpadplan-04-02.txt
- C:UsersasafiAppDataLocalTempclaudeC--Users-asafi-Downloads-ta-lab2c83d074d-ffff-4260-96b8-93d1abaa9042scratchpadplan-04-03.txt
- C:UsersasafiAppDataLocalTempclaudeC--Users-asafi-Downloads-ta-lab2c83d074d-ffff-4260-96b8-93d1abaa9042scratchpadplan-04-04.txt

**Directories to archive (4 directories):**
- C:UsersasafiDownloadsta_lab2docs
- C:UsersasafiDownloadsta_lab2testsintegration
- C:UsersasafiDownloadsta_lab2teststoolsdata_tools
- .planningphases11-memory-preparationvalidation

**Special items to document (cannot archive):**
- nul (Windows special device name - cannot be read/written on Windows)
- -p (special directory - attempt archive, document if fails)

Archive procedure:
1. Create .archive/temp/2026-02-03/corrupted_paths/ directory if not exists
2. For each corrupted path file:
   - Calculate SHA256 checksum
   - Copy to corrupted_paths/ with sanitized filename (replace colons and slashes)
   - Add entry to .archive/temp/manifest.json
   - Remove original
3. For each corrupted path directory:
   - Copy entire directory tree to corrupted_paths/
   - Add entry to manifest with directory size
   - Remove original directory
4. For nul and -p:
   - Document in manifest as "action": "skipped_windows_device"
   - Include reason explaining Windows limitation

Sanitized filenames example:
- "C:Users..." -> "corrupted_C-Users-asafi-AppData-...plan-04-02.txt"

Update manifest total_files and total_size_bytes accordingly.
  </action>
  <verify>
- ls "C:UsersasafiAppDataLocal*" in root returns empty
- ls "C:UsersasafiDownloads*" in root returns empty
- ls ".planningphases11*" in root returns empty
- ls .archive/temp/2026-02-03/corrupted_paths/ contains archived items
- cat .archive/temp/manifest.json | grep corrupted shows entries
  </verify>
  <done>
All archivable corrupted path items moved to .archive/temp/2026-02-03/corrupted_paths/ with manifest entries. Windows device names (nul) documented as unremovable limitation.
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify root cleanliness and commit</name>
  <files>None (verification and commit only)</files>
  <action>
Final verification and commit:

1. List root directory and verify only essential items remain:
   - Directories: .archive, .benchmarks, .claude, .gemini, .git, .github, .memory, .planning, .pytest_cache, .venv, .venv311, .vscode, __pycache__, configs, docs, sql, src, tests
   - Files: .env.example, .gitattributes, .gitignore, CHANGELOG.md, CONTRIBUTING.md, README.md, SECURITY.md, db_config.env, economic_data.env.example, mkdocs.yml, openai_config.env, pyproject.toml, pytest.ini, requirements-311.txt, setup_qdrant_server.bat, start_qdrant_server.bat
   - Known limitations: nul (Windows device), -p (if unremovable)

2. Count Python files in root:
   ```bash
   ls *.py 2>/dev/null | wc -l  # Should be 0
   ```

3. Count remaining corrupted paths:
   ```bash
   ls | grep -E "^C:" | wc -l  # Should be 0
   ```

4. Git add and commit:
   ```bash
   git add -f .archive/scripts/manifest.json .archive/temp/manifest.json .archive/scripts/2026-02-03/utilities/update_phase16_memory.py .archive/temp/2026-02-03/corrupted_paths/
   git commit -m "chore(16-07): close verification gaps - archive remaining root clutter

- Archive update_phase16_memory.py from Plan 06
- Archive 3 corrupted path text files
- Archive 4 corrupted path directories
- Document nul as Windows device limitation
- Root directory now clean per CLEAN-01

Gap closure for Phase 16 verification."
   ```

5. Final root directory state summary for SUMMARY.md
  </action>
  <verify>
- git status shows clean working directory (or only expected untracked)
- git log -1 shows gap closure commit
- Root contains no *.py files
- Root contains no C:* items
  </verify>
  <done>
Root directory verified clean, all changes committed, CLEAN-01 requirement satisfied. Gap closure complete.
  </done>
</task>

</tasks>

<verification>
Phase 16 gap closure complete when:
1. update_phase16_memory.py no longer in root
2. All corrupted path files/directories archived or documented
3. Manifests updated with new entries
4. Git commit recorded
5. Root directory contains only essential files
</verification>

<success_criteria>
- Zero Python scripts in root directory (*.py)
- Zero corrupted path items in root (C:*, .planningphases*)
- All archived items have SHA256 checksums in manifests
- CLEAN-01 requirement fully satisfied
- Git history shows gap closure commit
</success_criteria>

<output>
After completion, create `.planning/phases/16-repository-cleanup/16-07-SUMMARY.md`
</output>
