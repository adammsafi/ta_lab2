---
phase: 10-release-validation
plan: 05
type: execute
wave: 3
depends_on: [10-02, 10-03]
files_modified:
  - README.md
  - ARCHITECTURE.md
autonomous: true

must_haves:
  truths:
    - "README has tiered structure with quick start at top"
    - "ARCHITECTURE.md updated for v0.4.0 with new components"
    - "Documentation reflects current system state"
  artifacts:
    - path: "README.md"
      provides: "Tiered README with quick start and collapsible sections"
      min_lines: 200
    - path: "ARCHITECTURE.md"
      provides: "Updated architecture documentation"
      contains: "v0.4.0"
  key_links:
    - from: "README.md"
      to: "docs/DESIGN.md"
      via: "hyperlink"
      pattern: "DESIGN.md"
    - from: "README.md"
      to: "docs/deployment.md"
      via: "hyperlink"
      pattern: "deployment.md"
---

<objective>
Update README.md and ARCHITECTURE.md for v0.4.0 release

Purpose: Transform README into tiered structure per CONTEXT.md (quick start at top, collapsible detailed sections) and update ARCHITECTURE.md to reflect v0.4.0 state with all new components (memory, orchestrator, signals, observability).

Output: Updated README and ARCHITECTURE ready for v0.4.0 release
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/10-release-validation/10-CONTEXT.md
@.planning/phases/10-release-validation/10-RESEARCH.md

# Current README and ARCHITECTURE to update
@README.md
@ARCHITECTURE.md

# New docs created in Plan 04
# @docs/DESIGN.md (will exist after Plan 04)
# @docs/deployment.md (will exist after Plan 04)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update README.md with tiered structure</name>
  <files>README.md</files>
  <action>
Restructure README with tiered approach (per CONTEXT.md requirement):

1. **Header and Badge Section**:
   ```markdown
   # ta_lab2 v0.4.0

   Multi-timescale Technical Analysis Lab with AI Orchestration

   [![CI](https://github.com/...)](...)
   [![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](...)
   ```

2. **Quick Start Section** (FIRST, most visible):
   ```markdown
   ## Quick Start

   ### Installation
   ```bash
   git clone https://github.com/your-username/ta_lab2.git
   cd ta_lab2
   pip install -e ".[orchestrator]"
   ```

   ### Basic Usage
   ```bash
   # Set database URL
   export TARGET_DB_URL="postgresql://user:pass@localhost:5432/ta_lab2"

   # Run feature pipeline
   python -m ta_lab2.scripts.features.ta_feature refresh --all

   # Generate signals
   python -m ta_lab2.scripts.signals.run_all_signal_refreshes
   ```

   For detailed setup, see [Deployment Guide](docs/deployment.md).
   ```

3. **Overview Section** (brief):
   - What ta_lab2 does (2-3 sentences)
   - Key capabilities list
   - Link to DESIGN.md for details

4. **Collapsible Component Sections**:
   ```markdown
   ## Components

   <details>
   <summary><strong>Time Model</strong> (dim_timeframe, dim_sessions)</summary>

   The time model provides unified timeframe definitions...
   - 199 timeframes in dim_timeframe
   - CRYPTO and EQUITY trading sessions
   - Calendar vs trading-day alignment

   See [Time Model Documentation](docs/time/time_model_overview.md)
   </details>

   <details>
   <summary><strong>Feature Pipeline</strong> (EMAs, returns, volatility, TA)</summary>

   Feature calculation pipeline...
   - Multi-timeframe EMAs (daily, calendar, trading)
   - Returns (1D to 365D lookbacks)
   - Volatility estimators (Parkinson, Garman-Klass)
   - Technical indicators (RSI, MACD, Bollinger Bands)

   </details>

   <details>
   <summary><strong>Signal System</strong> (crossovers, reversions, breakouts)</summary>

   Trading signal generation...
   - EMA crossover signals
   - RSI mean reversion signals
   - ATR breakout signals
   - Database-driven configuration via dim_signals

   </details>

   <details>
   <summary><strong>Memory System</strong> (Mem0 + Qdrant)</summary>

   AI context persistence...
   - 3,763+ memories in vector store
   - Semantic search with 0.7 threshold
   - Conflict detection and resolution
   - REST API for cross-platform access

   </details>

   <details>
   <summary><strong>Orchestrator</strong> (Claude, ChatGPT, Gemini)</summary>

   Multi-platform AI coordination...
   - Cost-optimized routing (Gemini free tier first)
   - Parallel task execution
   - AI-to-AI handoffs via memory
   - Quota management

   </details>

   <details>
   <summary><strong>Observability</strong> (metrics, tracing, health)</summary>

   Production monitoring...
   - PostgreSQL-backed metrics storage
   - Correlation ID tracing
   - Health checks (liveness, readiness, startup)
   - Alert thresholds and delivery

   </details>
   ```

5. **Development Section** (condensed):
   - Running tests
   - Contributing link
   - License

6. **Links Section**:
   - [Design Document](docs/DESIGN.md)
   - [Architecture](ARCHITECTURE.md)
   - [Deployment Guide](docs/deployment.md)
   - [API Reference](docs/api/)
   - [Changelog](CHANGELOG.md)
  </action>
  <verify>README.md has collapsible sections: `grep -c "<details>" README.md` shows >= 5</verify>
  <done>README.md restructured with quick start first and collapsible component sections</done>
</task>

<task type="auto">
  <name>Task 2: Update ARCHITECTURE.md for v0.4.0</name>
  <files>ARCHITECTURE.md</files>
  <action>
Update ARCHITECTURE.md to reflect v0.4.0 state:

1. **Update Version Header**:
   ```markdown
   # ta_lab2 Architecture

   Version: 0.4.0
   Last Updated: 2026-02-XX
   ```

2. **Add New Sections for v0.4.0 Components**:

   a. **Memory System Architecture**:
      - Mem0 integration with Qdrant backend
      - Memory API endpoints (/api/v1/memory/*)
      - Conflict resolution flow
      - Health monitoring

   b. **Orchestrator Architecture**:
      - Platform adapters (Claude, ChatGPT, Gemini)
      - Cost-optimized routing flow
      - Parallel execution with TaskGroup
      - Handoff pattern (pointer + summary)

   c. **Signal System Architecture**:
      - dim_signals configuration schema
      - Signal generation pipeline
      - SignalStateManager for position tracking
      - Feature hashing for reproducibility

   d. **Observability Architecture**:
      - Metrics storage (observability.metrics)
      - Tracing context propagation
      - Health check patterns
      - Alert threshold infrastructure

3. **Update Existing Sections**:
   - EMA section: Reference unified time model
   - Feature pipeline: Add returns, volatility, TA
   - Add cross-references to new docs

4. **Update Database Schema Section**:
   - Add new tables: dim_signals, cmc_signals_*, observability.*
   - Update ER diagram or table list
   - Note month-partitioned metrics table

5. **Add API Reference Section**:
   - Memory API endpoints
   - Orchestrator CLI commands
   - Feature refresh scripts

6. **Keep Existing Good Content**:
   - EMA views documentation
   - Price data flow
   - Existing diagrams
  </action>
  <verify>ARCHITECTURE.md mentions v0.4.0: `grep "0.4.0" ARCHITECTURE.md` shows result</verify>
  <done>ARCHITECTURE.md updated with v0.4.0 components (memory, orchestrator, signals, observability)</done>
</task>

</tasks>

<verification>
1. README.md has quick start at top
2. README.md has 6 collapsible sections
3. ARCHITECTURE.md references v0.4.0
4. Cross-links between docs are valid
5. Documentation is current with actual code state
</verification>

<success_criteria>
- README.md tiered structure with quick start first
- README.md collapsible sections for each component
- ARCHITECTURE.md updated for v0.4.0
- All internal doc links are correct
</success_criteria>

<output>
After completion, create `.planning/phases/10-release-validation/10-05-SUMMARY.md`
</output>
