---
phase: 10-release-validation
plan: 08
type: execute
wave: 5
depends_on: [10-01, 10-02, 10-03, 10-06, 10-07]
files_modified:
  - pyproject.toml
  - .planning/REQUIREMENTS.md
autonomous: false

must_haves:
  truths:
    - "All 41 v1 requirements validated and marked complete"
    - "v0.4.0 version set in pyproject.toml"
    - "Release tag ready to be created"
  artifacts:
    - path: "pyproject.toml"
      provides: "Project configuration with v0.4.0 version"
      contains: 'version = "0.4.0"'
    - path: ".planning/REQUIREMENTS.md"
      provides: "Requirements tracking with all items complete"
      contains: "[x]"
  key_links:
    - from: "pyproject.toml"
      to: ".github/workflows/release.yml"
      via: "version tag"
      pattern: "0.4.0"
---

<objective>
Final release validation and version bump

Purpose: Complete the v0.4.0 release process by validating all requirements are met, updating version in pyproject.toml, verifying all validation tests pass, and preparing for release tag creation. This is the final quality gate before release.

Output: Project ready for v0.4.0 tag and release
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/10-release-validation/10-CONTEXT.md

# Current project version
@pyproject.toml

# Requirements tracking (if exists)
@.planning/REQUIREMENTS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update pyproject.toml version to 0.4.0</name>
  <files>pyproject.toml</files>
  <action>
Update version number in pyproject.toml:

1. Change version from "0.3.1" to "0.4.0":
   ```toml
   version = "0.4.0"
   ```

2. Add pytest-cov and pytest-json-report to dev dependencies if not present:
   ```toml
   dev = [
     "pytest>=8.0",
     "pytest-asyncio>=0.21.0",
     "pytest-mock>=3.12.0",
     "pytest-benchmark",
     "pytest-cov>=7.0.0",
     "pytest-json-report>=1.5.0",
     "hypothesis",
     "ruff>=0.1.5",
     "mypy>=1.8",
   ]
   ```

3. Add docs optional dependency group for MkDocs:
   ```toml
   docs = [
     "mkdocs-material>=9.0",
     "mkdocstrings[python]>=1.0",
   ]
   ```

4. Update 'all' group to include docs dependencies

Note: Keep all existing dependencies, just add new ones and update version.
  </action>
  <verify>`grep 'version = "0.4.0"' pyproject.toml` shows version updated</verify>
  <done>pyproject.toml version updated to 0.4.0 with docs dependencies</done>
</task>

<task type="auto">
  <name>Task 2: Validate and update requirements tracking</name>
  <files>.planning/REQUIREMENTS.md</files>
  <action>
Create or update REQUIREMENTS.md with all 41 v1 requirements marked:

```markdown
# ta_lab2 v1 Requirements Validation

**Version:** 0.4.0
**Validated:** 2026-02-XX

## Summary

- **Total Requirements:** 41
- **Complete:** 41
- **Pending:** 0
- **Coverage:** 100%

## Orchestrator Requirements (ORCH-01 to ORCH-12)

- [x] **ORCH-01**: Claude Code adapter - Phase 4 (04-03)
- [x] **ORCH-02**: ChatGPT adapter - Phase 4 (04-02)
- [x] **ORCH-03**: Gemini adapter - Phase 4 (04-04)
- [x] **ORCH-04**: Cost-optimized routing - Phase 5 (05-01)
- [x] **ORCH-05**: Quota tracking - Phase 1 (01-02)
- [x] **ORCH-06**: Parallel execution - Phase 5 (05-02)
- [x] **ORCH-07**: AI-to-AI handoffs - Phase 5 (05-03)
- [x] **ORCH-08**: Error handling with retries - Phase 5 (05-05)
- [x] **ORCH-09**: Per-task cost tracking - Phase 5 (05-04)
- [x] **ORCH-10**: Orchestrator CLI - Phase 5 (05-06)
- [x] **ORCH-11**: Infrastructure validation - Phase 1 (01-01, 01-03)
- [x] **ORCH-12**: Result aggregation - Phase 5 (05-02)

## Memory Requirements (MEMO-01 to MEMO-09)

- [x] **MEMO-01**: ChromaDB integration - Phase 2 (02-01)
- [x] **MEMO-02**: Semantic search threshold >0.7 - Phase 2 (02-02)
- [x] **MEMO-03**: Context injection - Phase 2 (02-02)
- [x] **MEMO-04**: Cross-platform REST API - Phase 2 (02-04)
- [x] **MEMO-05**: Conflict detection - Phase 3 (03-03)
- [x] **MEMO-06**: Stale memory flagging - Phase 3 (03-04)
- [x] **MEMO-07**: Incremental updates - Phase 2 (02-03)
- [x] **MEMO-08**: Health monitoring - Phase 3 (03-04, 03-05)
- [x] **MEMO-09**: Mem0 migration - Phase 3 (03-01, 03-06)

## Time Model Requirements (TIME-01 to TIME-07)

- [x] **TIME-01**: dim_timeframe table - Phase 6 (06-01)
- [x] **TIME-02**: dim_sessions table - Phase 6 (06-01)
- [x] **TIME-03**: Unified EMA table - Phase 6 (06-02)
- [x] **TIME-04**: EMA scripts use dim_timeframe - Phase 6 (06-03)
- [x] **TIME-05**: Time alignment validation - Phase 6 (06-04)
- [x] **TIME-06**: Incremental EMA refresh - Phase 6 (06-05)
- [x] **TIME-07**: Rowcount validation - Phase 6 (06-06)

## Feature Requirements (FEAT-01 to FEAT-07)

- [x] **FEAT-01**: Returns with dim_timeframe lookbacks - Phase 7 (07-03)
- [x] **FEAT-02**: Volatility estimators - Phase 7 (07-04)
- [x] **FEAT-03**: Technical indicators - Phase 7 (07-05)
- [x] **FEAT-04**: Unified feature view - Phase 7 (07-06)
- [x] **FEAT-05**: Null handling strategy - Phase 7 (07-01, 07-02)
- [x] **FEAT-06**: Feature incremental refresh - Phase 7 (07-06)
- [x] **FEAT-07**: Data consistency validation - Phase 7 (07-07)

## Signal Requirements (SIG-01 to SIG-07)

- [x] **SIG-01**: Signal generation - Phase 8 (08-02, 08-03, 08-04)
- [x] **SIG-02**: Backtest integration - Phase 8 (08-05)
- [x] **SIG-03**: Cross-system validation - Phase 9 (09-05, 09-07)
- [x] **SIG-04**: Time alignment validation - Phase 10 (10-02)
- [x] **SIG-05**: Data consistency validation - Phase 10 (10-02)
- [x] **SIG-06**: Backtest reproducibility - Phase 10 (10-03)
- [x] **SIG-07**: v0.4.0 release - Phase 10 (10-06, 10-08)

## Validation Summary

All requirements validated via:
1. Code implementation (verified by tests)
2. Documentation (DESIGN.md, ARCHITECTURE.md, API docs)
3. CI/CD integration (validation workflow)

**Ready for v0.4.0 release.**
```
  </action>
  <verify>`grep -c "\[x\]" .planning/REQUIREMENTS.md` shows 41 completed items</verify>
  <done>All 41 requirements documented and marked complete</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete v0.4.0 release preparation:
- All validation tests (time alignment, data consistency, backtest reproducibility)
- Documentation suite (DESIGN.md, deployment guide, README, ARCHITECTURE, API docs)
- Release automation (CHANGELOG, MkDocs, GitHub release workflow)
- Version bump to 0.4.0
- All 41 requirements validated
  </what-built>
  <how-to-verify>
1. Run validation tests locally (if database available):
   ```bash
   pytest tests/validation/ -v
   ```

2. Verify documentation builds:
   ```bash
   pip install mkdocs-material "mkdocstrings[python]"
   mkdocs build
   ```

3. Review key files:
   - CHANGELOG.md has v0.4.0 section
   - pyproject.toml version is "0.4.0"
   - README.md has tiered structure with quick start

4. (Optional) Create and push release tag:
   ```bash
   git tag -a v0.4.0 -m "Release v0.4.0"
   git push origin v0.4.0
   ```
   This will trigger the release workflow.
  </how-to-verify>
  <resume-signal>Type "release-approved" to confirm v0.4.0 is ready, or describe any issues to address</resume-signal>
</task>

</tasks>

<verification>
1. pyproject.toml version is "0.4.0"
2. REQUIREMENTS.md shows all 41 items complete
3. All Phase 10 plans executed
4. Documentation builds successfully
5. User approves release
</verification>

<success_criteria>
- Version 0.4.0 set in pyproject.toml
- All 41 requirements documented as complete
- User verification checkpoint passed
- Ready to create v0.4.0 tag
</success_criteria>

<output>
After completion, create `.planning/phases/10-release-validation/10-08-SUMMARY.md`
</output>
