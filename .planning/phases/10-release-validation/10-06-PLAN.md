---
phase: 10-release-validation
plan: 06
type: execute
wave: 4
depends_on: [10-04, 10-05]
files_modified:
  - CHANGELOG.md
  - mkdocs.yml
  - .github/workflows/release.yml
autonomous: true

must_haves:
  truths:
    - "CHANGELOG.md follows Keep a Changelog format"
    - "MkDocs configured for documentation site generation"
    - "Release workflow automates GitHub release creation"
  artifacts:
    - path: "CHANGELOG.md"
      provides: "Version history in Keep a Changelog format"
      contains: "[0.4.0]"
    - path: "mkdocs.yml"
      provides: "MkDocs Material configuration"
      contains: "mkdocs-material"
    - path: ".github/workflows/release.yml"
      provides: "Automated release workflow"
      contains: "softprops/action-gh-release"
  key_links:
    - from: ".github/workflows/release.yml"
      to: "CHANGELOG.md"
      via: "sed extraction"
      pattern: "CHANGELOG.md"
---

<objective>
Create release automation with CHANGELOG, MkDocs, and GitHub release workflow

Purpose: Complete SIG-07 release requirements. Create CHANGELOG.md in Keep a Changelog format, configure MkDocs Material for documentation site, and create GitHub Actions workflow for automated release creation with documentation bundle.

Output: Release automation ready for v0.4.0 tag
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/10-release-validation/10-CONTEXT.md
@.planning/phases/10-release-validation/10-RESEARCH.md

# Existing changelog (may need restructuring)
@changelog.md

# Documentation files for MkDocs
@README.md
@ARCHITECTURE.md
# @docs/DESIGN.md (from Plan 04)
# @docs/deployment.md (from Plan 04)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create/update CHANGELOG.md in Keep a Changelog format</name>
  <files>CHANGELOG.md</files>
  <action>
Create or update CHANGELOG.md following Keep a Changelog format (per RESEARCH.md recommendation):

```markdown
# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

## [0.4.0] - 2026-02-XX

### Added
- **Time Model**: Unified dim_timeframe (199 TFs) and dim_sessions tables
- **Feature Pipeline**: Returns (1D-365D), volatility (Parkinson, GK), technical indicators (RSI, MACD, BB, ATR, ADX)
- **Signal System**: EMA crossover, RSI mean reversion, ATR breakout signal generation with database-driven configuration
- **Backtest Integration**: SignalBacktester with triple-layer reproducibility validation
- **Memory System**: Mem0 + Qdrant integration with 3,763+ memories, conflict detection, health monitoring
- **AI Orchestrator**: Multi-platform coordination (Claude, ChatGPT, Gemini) with cost-optimized routing
- **Observability**: PostgreSQL-backed metrics, tracing, health checks, alert infrastructure
- **Validation Gates**: CI blockers for time alignment, data consistency, backtest reproducibility
- **Documentation**: DESIGN.md, deployment guide, tiered README, updated ARCHITECTURE.md

### Changed
- EMA tables unified under time model with dim_timeframe references
- Test infrastructure upgraded to three-tier pattern (real_deps, mixed_deps, mocked_deps)
- Quota management enhanced with reservation and alert thresholds

### Fixed
- EMA calculation edge cases in multi-timeframe scenarios
- Memory embedding dimension validation prevents corruption

## [0.3.1] - 2026-01-15

### Added
- Initial EMA multi-timeframe support
- Basic CLI for pipeline execution

### Fixed
- Database connection handling improvements

## [0.3.0] - 2025-12-XX

### Added
- Core ta_lab2 package structure
- Regime detection framework
- Basic EMA calculations

[Unreleased]: https://github.com/your-username/ta_lab2/compare/v0.4.0...HEAD
[0.4.0]: https://github.com/your-username/ta_lab2/compare/v0.3.1...v0.4.0
[0.3.1]: https://github.com/your-username/ta_lab2/compare/v0.3.0...v0.3.1
[0.3.0]: https://github.com/your-username/ta_lab2/releases/tag/v0.3.0
```

Note: Replace XX with actual release date. Update GitHub URLs with actual repo path.
  </action>
  <verify>`grep "\[0.4.0\]" CHANGELOG.md` shows version entry exists</verify>
  <done>CHANGELOG.md created in Keep a Changelog format with v0.4.0 release notes</done>
</task>

<task type="auto">
  <name>Task 2: Create MkDocs configuration</name>
  <files>mkdocs.yml</files>
  <action>
Create MkDocs Material configuration for documentation site:

```yaml
site_name: ta_lab2 v0.4.0
site_description: Multi-timescale Technical Analysis Lab with AI Orchestration
site_url: https://your-username.github.io/ta_lab2/

repo_name: your-username/ta_lab2
repo_url: https://github.com/your-username/ta_lab2

theme:
  name: material
  features:
    - navigation.tabs
    - navigation.sections
    - navigation.expand
    - navigation.top
    - content.code.copy
    - content.code.annotate
  palette:
    - scheme: default
      primary: indigo
      accent: indigo
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode
    - scheme: slate
      primary: indigo
      accent: indigo
      toggle:
        icon: material/brightness-4
        name: Switch to light mode

nav:
  - Home: index.md
  - Getting Started:
    - Quick Start: index.md#quick-start
    - Installation: deployment.md#installation
  - Design:
    - Overview: DESIGN.md
    - Architecture: ARCHITECTURE.md
  - Components:
    - Time Model: time/time_model_overview.md
    - Features: time/returns_volatility.md
    - Signals: time/regime_integration.md
  - Deployment: deployment.md
  - API Reference:
    - Memory API: api/memory.md
    - Orchestrator CLI: api/orchestrator.md
  - Changelog: CHANGELOG.md

plugins:
  - search
  - mkdocstrings:
      handlers:
        python:
          options:
            docstring_style: google
            show_source: true
            show_root_heading: true

markdown_extensions:
  - admonition
  - pymdownx.details
  - pymdownx.superfences
  - pymdownx.tabbed:
      alternate_style: true
  - pymdownx.highlight:
      anchor_linenums: true
  - pymdownx.inlinehilite
  - pymdownx.snippets
  - toc:
      permalink: true
  - attr_list
  - md_in_html

extra:
  version:
    provider: mike
```

Note: This configuration references docs/ directory. Create docs/index.md as copy/link of README.md content, or symlink.
  </action>
  <verify>`python -c "import yaml; yaml.safe_load(open('mkdocs.yml')); print('Valid YAML')"` succeeds</verify>
  <done>mkdocs.yml configured for MkDocs Material with navigation structure</done>
</task>

<task type="auto">
  <name>Task 3: Create GitHub release workflow</name>
  <files>.github/workflows/release.yml</files>
  <action>
Create automated release workflow (per RESEARCH.md pattern):

```yaml
name: Release

on:
  push:
    tags:
      - 'v*.*.*'

permissions:
  contents: write

jobs:
  release:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'

      - name: Install documentation dependencies
        run: |
          pip install mkdocs-material "mkdocstrings[python]"

      - name: Build documentation bundle
        run: |
          # Create docs/index.md from README if not exists
          if [ ! -f docs/index.md ]; then
            cp README.md docs/index.md
          fi
          # Copy root docs to docs/ for MkDocs
          cp CHANGELOG.md docs/ 2>/dev/null || true
          cp ARCHITECTURE.md docs/ 2>/dev/null || true
          # Build site
          mkdocs build
          # Create zip bundle
          cd site && zip -r ../ta_lab2-docs-${{ github.ref_name }}.zip . && cd ..

      - name: Extract release notes from CHANGELOG
        id: notes
        run: |
          VERSION=${GITHUB_REF#refs/tags/v}
          # Extract section for this version
          sed -n "/## \[${VERSION}\]/,/## \[/p" CHANGELOG.md | sed '$d' > release-notes.md
          # If empty, use default message
          if [ ! -s release-notes.md ]; then
            echo "## ta_lab2 ${{ github.ref_name }}" > release-notes.md
            echo "" >> release-notes.md
            echo "See [CHANGELOG.md](https://github.com/${{ github.repository }}/blob/main/CHANGELOG.md) for details." >> release-notes.md
          fi

      - name: Create Release
        uses: softprops/action-gh-release@v2
        with:
          body_path: release-notes.md
          files: |
            ta_lab2-docs-${{ github.ref_name }}.zip
          fail_on_unmatched_files: true
          draft: false
          prerelease: false
          generate_release_notes: false
```

This workflow:
1. Triggers on version tags (v*.*.*)
2. Builds MkDocs documentation
3. Extracts release notes from CHANGELOG.md
4. Creates GitHub release with docs bundle attached
  </action>
  <verify>`python -c "import yaml; yaml.safe_load(open('.github/workflows/release.yml'))"`</verify>
  <done>Release workflow automates GitHub release creation with documentation bundle</done>
</task>

</tasks>

<verification>
1. CHANGELOG.md exists with v0.4.0 section
2. mkdocs.yml is valid YAML and configures Material theme
3. release.yml is valid YAML and uses softprops/action-gh-release
4. Workflow correctly extracts version from tag
</verification>

<success_criteria>
- CHANGELOG.md in Keep a Changelog format with v0.4.0
- MkDocs Material configured with navigation
- Release workflow creates GitHub release on tag push
- Documentation bundle attached to release
</success_criteria>

<output>
After completion, create `.planning/phases/10-release-validation/10-06-SUMMARY.md`
</output>
